<!DOCTYPE html PUBLIC>
<html lang="es">

<head>
  <title>Utils</title>
  <link rel="stylesheet" type="text/css" href="stylesheets/styleOthers.css">
  <script type="text/javascript" src="javascripts/shCore.js"></script>
	<script type="text/javascript" src="javascripts/shBrushJScript.js"></script>
	<link type="text/css" rel="stylesheet" href="stylesheets/shCoreRDark.css"/>
	<script type="text/javascript">SyntaxHighlighter.all();</script>
  <meta charset="utf-8" />
  <script>
   window.onload = function() {

     var inputs = document.getElementsByTagName('input');

     for (var i = 0; i < inputs.length; i++) {
       inputs[i].addEventListener('focus', reset);
     }

     document.getElementById('validar').addEventListener('click', function () {

       var ch1 = document.getElementById('constraint-01');
       var ch2 = document.getElementById('constraint-02');
       var ch3 = document.getElementById('constraint-03');
       var ch4 = document.getElementById('constraint-04');
       var ch5 = document.getElementById('constraint-05');

       ch1.value = ch1.value != '**Error' ? check(ch1.value, 5 , 4, 'all', '0') : ch1.value;
       ch2.value = ch2.value != '**Error' ? check(ch2.value, 20, 10, 'number', '0') : ch2.value;
       ch3.value = ch3.value != '**Error' ? check(ch3.value, 10, 7, 'number', '0') : ch3.value;
       ch4.value = ch4.value != '**Error' ? check(ch4.value, 10, 5, 'string', 'a') : ch4.value;
       ch5.value = ch5.value != '**Error' ? check(ch5.value, 5, 5, 'number', '0') : ch5.value;

       if (ch1.value == '**Error')
         ch1.style.color = 'red';
       if (ch2.value == '**Error')
         ch2.style.color = 'red';
       if (ch3.value == '**Error')
         ch3.style.color = 'red';
       if (ch4.value == '**Error')
         ch4.style.color = 'red';
       if (ch5.value == '**Error')
         ch5.style.color = 'red';

     });

     function check(text, maxlength, minlength, type, character) {

       var result = '';

       if(validate(text,maxlength,minlength,type)){
         result = fill(text, maxlength, character);
       }else {
         result = '**Error';
       }
       return result;
     }

     function validate(text, maxlength, minlength, type) {

       if(text.length <= maxlength && text.length >= minlength) {
         if(type == 'all') {
           return true;
         }else if(type == 'number') {
           if(isNaN(text)) {
             return false;
           }else {
             return true;
           }
         }else if(type == 'string') {
           if(isNaN(text)) {
             return true;
           }else {
             return false;
           }
         }
       }else {
         return false;
       }
     }

     function fill(text, limit, character) {

       if(text.length != limit) {
         var l = limit - text.length;
         for(var i = 0; i < l; i++){
           text += character;
         }
       }

       return text;

     }

     function reset() {

       // Reset
       var ch1 = document.getElementById('constraint-01');
       var ch2 = document.getElementById('constraint-02');
       var ch3 = document.getElementById('constraint-03');
       var ch4 = document.getElementById('constraint-04');
       var ch5 = document.getElementById('constraint-05');

       if (this.id == ch1.id && ch1.value === "**Error") {
         ch1.value = ''
         ch1.style.color = 'black';
       }
       if(this.id == ch2.id && ch2.value === "**Error") {
         ch2.value = ''
         ch2.style.color = 'black';
       }
       if(this.id == ch3.id && ch3.value === "**Error") {
         ch3.value = ''
         ch3.style.color = 'black';
       }
       if(this.id == ch4.id && ch4.value === "**Error") {
         ch4.value = ''
         ch4.style.color = 'black';
       }
       if(this.id == ch5.id && ch5.value === "**Error") {
         ch5.value = ''
         ch5.style.color = 'black';
       }
     }
   }
  </script>
</head>

<body>
  <div class="content" align="center">
    <div class="main" align="center">
      <h2 style="margin:0;margin-bottom:40px;">Formulario - Check</h2>
      <label><strong>5 carácteres, mínimo 4 (Valor alfanumérico)</strong></label>
      <input id="constraint-01" name="" type="text" value=""/>
      <label><strong>20 carácteres, mínimo 10 (Valor numérico)</strong></label>
      <input id="constraint-02" name="" type="text" value=""/>
      <label><strong>10 carácteres, mínimo 7 (Valor numérico)</strong></label>
      <input id="constraint-03" name="" type="text" value=""/>
      <label><strong>10 carácteres, mínimo 5 (String)</strong></label>
      <input id="constraint-04" name="" type="text" value=""/>
      <label><strong>5 carácteres (Valor numérico)</strong></label>
      <input id="constraint-05" name="" type="text" value=""/>
      <button id="validar">Validar</button>
      <div style="margin-top: 50px;">
        <h3>¿Qué hago?</h3>
        <p>Usa la funcion check :D</p>
        <p>La función recibe 5 parámetros: texto, longitud (Máxima y Minima), tipo y carácter de relleno.</p>
        <ul style="text-align:left;">
          <li><strong style="color: #a71d5d;font-weight:normal;">text</strong> : <strong style="color: #183691;font-weight:normal;">Input Text</strong></li>
          <li><strong style="color: #a71d5d;font-weight:normal;">maxlength</strong> : <strong style="color: #183691;font-weight:normal;">Longitud Máxima</strong></li>
          <li><strong style="color: #a71d5d;font-weight:normal;">minlength</strong> : <strong style="color: #183691;font-weight:normal;">Longitud Minima</strong></li>
          <li><strong style="color: #a71d5d;font-weight:normal;">type</strong> : <strong style="color: #183691;font-weight:normal;">Tipo ('string', 'number', 'all')</strong></li>
          <li><strong style="color: #a71d5d;font-weight:normal;">character</strong> : <strong style="color: #183691;font-weight:normal;">Carácter de relleno ('a', 'i', '$', ...)</strong></li>
        </ul>
        <p style="text-align:left;">Ejemplo (Formulario - Check) :</p>
        <pre class="brush: js;">
/* Example */

check(text, 5 , 4, 'all', '0')
check(text, 20, 10, 'number', '0')
check(text, 10, 7, 'number', '0')
check(text, 10, 5, 'string', 'a')
check(text, 5, 5, 'number', '0')

/*         */
        </pre>
        <p style="text-align:left;">Source :</p>
      </div>
      <div style="margin-top: 20px;">
        <pre class="brush: js;">
/* Begin */

function check(text, maxlength, minlength, type, character) {
  var result = '';

  if(validate(text,maxlength,minlength,type)){
    result = fill(text, maxlength, character);
  }else {
    result = '**Error';
  }

  return result;
}

function validate(text, maxlength, minlength, type) {

  if(text.length <= maxlength && text.length >= minlength) {
    if(type == 'all') {
      return true;
    }else if(type == 'number') {
      if(isNaN(text)) {
        return false;
      }else {
        return true;
      }
    }else if(type == 'string') {
      if(isNaN(text)) {
        return true;
      }else {
        return false;
      }
    }
  }else {
    return false;
  }
}

function fill(text, limit, character) {
  if(text.length != limit) {
    var l = limit - text.length;
    for(var i = 0; i < l; i++){
      text += character;
    }
  }
  return text;

}

/* End */
      </pre>
      </div>
    </div>
  </div>
</body>

</html>
